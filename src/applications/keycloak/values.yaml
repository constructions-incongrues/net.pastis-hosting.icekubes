keycloak:
  extraEnvVars:
    - name: KEYCLOAK_EXTRA_ARGS
      value: "-Dkeycloak.import=/config/realms.json"
  extraVolumeMounts:
    - name: config
      mountPath: "/config"
      readOnly: true
  extraVolumes:
    - name: config
      configMap:
        name: "{{ .Release.Name }}-realms-cm"
        items:
        - key: "realms.json"
          path: "realms.json"
  auth:
    createAdminUser: true
    adminUser: admin
    adminPassword: admin
  proxyAddressForwarding: true
  postgresql:
    postgresqlPassword: keycloak
    postgresqlPostgresPassword: keycloak
    persistence:
      enabled: true
      size: 1Gi
    volumePermissions:
      enabled: true
    primary:
      annotations:
        k10.kasten.io/forcegenericbackup: 'true'
  service:
    type: ClusterIP
  ingress:
    enabled: true
    tls: true
    selfSigned: false
    hostname: keycloak.pastis-hosting.net
    annotations:
      external-dns.alpha.kubernetes.io/hostname: keycloak.pastis-hosting.net
      cert-manager.io/cluster-issuer: cert-manager-pastis-hosting-net-issuer
      traefik.ingress.kubernetes.io/router.tls: "true"